{"version":3,"file":"default-src_app_home_discover_place-detail_place-detail_module_ts.js","mappings":"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","sources":["./src/app/bookings/booking.service.ts","./src/app/bookings/create-booking/booking.model.ts","./src/app/bookings/create-booking/create-booking.component.ts","./src/app/home/discover/place-detail/place-detail-routing.module.ts","./src/app/home/discover/place-detail/place-detail.module.ts","./src/app/home/discover/place-detail/place-detail.page.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { delay, take, tap } from 'rxjs/operators';\nimport { AuthService } from '../auth/auth.service';\nimport { Booking } from './create-booking/booking.model';\n\n@Injectable({ providedIn: 'root' })\nexport class BookingService {\n  private booking = new BehaviorSubject<Booking[]>([]);\n\n  constructor(private authService: AuthService) { }\n\n  get bookings() {\n    return this.booking.asObservable();\n  }\n\n  addBooking(\n    placeId: string,\n    placeTitle: string,\n    placeImg: string,\n    firstName: string,\n    lastName: string,\n    guestNumber: number,\n    dateFrom: Date,\n    dateTo: Date\n  ) {\n    const newBooking = new Booking(\n      Math.random().toString(),\n      placeId,\n      this.authService.userId,\n      placeTitle,\n      placeImg,\n      firstName,\n      lastName,\n      guestNumber,\n      dateFrom,\n      dateTo\n    );\n    return this.bookings.pipe(take(1), delay(1000), tap(bookings => {\n      this.booking.next(bookings.concat(newBooking));\n    })\n    );\n  }\n\n  cancelBooking(bookingId: string) {\n    return this.bookings.pipe(take(1), delay(1000), tap(bookings => {\n      this.booking.next(bookings.filter(b => b.id !== bookingId));\n    })\n    );\n   }\n}\n","export class Booking {\n  constructor(\n    public id: string,\n    public placeId: string,\n    public userId: string,\n    public placeTitle: string,\n    public placeImg: string,\n    public firstName: string,\n    public lastName: string,\n    public guestNumber: number,\n    public bookedFrom: Date,\n    public bookedTo: Date\n  ){}\n}\n","/* eslint-disable @typescript-eslint/dot-notation */\nimport { Component, Input, OnInit, ViewChild } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { ModalController } from '@ionic/angular';\nimport { Place } from 'src/app/home/place.model';\n\n@Component({\n  selector: 'app-create-booking',\n  templateUrl: './create-booking.component.html',\n  styleUrls: ['./create-booking.component.scss'],\n})\nexport class CreateBookingComponent implements OnInit {\n  @Input() selectedPlace: Place;\n  @Input() selectedMode: 'select' | 'random';\n  @ViewChild('f', { static: true }) form: NgForm;\n  startDate: string;\n  endDate: string;\n\n  constructor(private modalCtrl: ModalController) { }\n\n  ngOnInit() {\n    const availableFrom = new Date(this.selectedPlace.availableFrom);\n    const availableTo = new Date(this.selectedPlace.availableTo);\n    if (this.selectedMode === 'random') {\n      this.startDate = new Date(\n        availableFrom.getTime() + Math.random() * (availableTo.getTime()\n          - 7 * 24 * 60 * 60 * 1000 - availableFrom.getTime())\n      ).toISOString();\n\n      this.endDate = new Date(new Date(this.startDate).getTime() + Math.random() * (\n        new Date(this.startDate).getTime() + 6 * 24 * 60 * 60 * 1000 -\n        new Date(this.startDate).getTime())).toISOString();\n    }\n  }\n\n  onCancel() {\n    this.modalCtrl.dismiss(null, 'cancel');\n  }\n\n  onBookPlace() {\n    if (!this.form.valid || !this.validDate) {\n      return;\n    }\n\n    this.modalCtrl.dismiss({\n      bookingData: {\n        first: this.form.value['firstName'],\n        last: this.form.value['lastName'],\n        guest: +this.form.value['guestNumber'],\n        start: new Date(this.form.value['dateFrom']),\n        end: new Date(this.form.value['dateTo'])\n      }\n    }, 'confirm');\n  }\n\n  validDate() {\n    const startDate = new Date(this.form.value['dateFrom']);\n    const endDate = new Date(this.form.value['dateTo']);\n    return endDate > startDate;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PlaceDetailPage } from './place-detail.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PlaceDetailPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PlaceDetailPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PlaceDetailPageRoutingModule } from './place-detail-routing.module';\n\nimport { PlaceDetailPage } from './place-detail.page';\nimport { CreateBookingComponent } from 'src/app/bookings/create-booking/create-booking.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PlaceDetailPageRoutingModule\n  ],\n  declarations: [PlaceDetailPage, CreateBookingComponent],\n  entryComponents: [CreateBookingComponent]\n})\nexport class PlaceDetailPageModule {}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ActionSheetController, LoadingController, ModalController, NavController } from '@ionic/angular';\nimport { Subscription } from 'rxjs';\nimport { AuthService } from 'src/app/auth/auth.service';\nimport { BookingService } from 'src/app/bookings/booking.service';\nimport { CreateBookingComponent } from 'src/app/bookings/create-booking/create-booking.component';\nimport { Place } from '../../place.model';\nimport { PlacesService } from '../../places.service';\n\n@Component({\n  selector: 'app-place-detail',\n  templateUrl: './place-detail.page.html',\n  styleUrls: ['./place-detail.page.scss'],\n})\nexport class PlaceDetailPage implements OnDestroy {\n  place = {\n    id: 0,\n    title: 'place',\n    description: 'string',\n    imageURL: 'string',\n    price: 0,\n    availableFrom: 'string',\n    availableTo: 'string',\n    userId: 'string',\n    location: 'string'\n  };\n  isBookable = true;\n  private placeSub: Subscription;\n\n  constructor(\n    private navCtrl: NavController,\n    private modalCtrl: ModalController,\n    private route: ActivatedRoute,\n    private placesService: PlacesService,\n    private actionSheetCtrl: ActionSheetController,\n    private bookingService: BookingService,\n    private loadingController: LoadingController,\n    private authService: AuthService,\n    private router: Router\n  ) { }\n\n  ionViewWillEnter(){\n    this.getPlaceById(this.getIDfromURL());\n  }\n  //NEW\n  getPlaceById(place: number){\n    this.placesService.getPlaceById(place).subscribe(\n      (resp: any) => {\n        this.place = {\n          id: resp[0].id,\n          title: resp[0].title,\n          description: resp[0].description,\n          imageURL: resp[0].imageURL,\n          price: resp[0].price,\n          availableFrom: resp[0].availableFrom,\n          availableTo: resp[0].availableTo,\n          userId: resp[0].userId,\n          location: resp[0].location\n        };\n      }\n    );\n  }\n  getIDfromURL(){\n    const url = this.router.url;\n    const arr = url.split('/', 5);\n    const id = parseInt(arr[4],10);\n    console.log('el numero en el url es: '+id);\n    return id;\n  }\n  //PAST\n  onBookPlace() {\n    this.actionSheetCtrl.create({\n      header: 'Choose an action',\n      buttons: [\n        {\n          text: 'Select Date',\n          handler: () => {\n            this.openBookingModal('select');\n          }\n        },\n        {\n          text: 'Random Date',\n          handler: () => {\n            this.openBookingModal('random');\n          }\n        },\n        {\n          text: 'Cancel',\n          role: 'cancel'\n        }\n      ]\n    })\n      .then(actionSheetEL => {\n        actionSheetEL.present();\n      });\n  }\n\n  openBookingModal(mode: 'select' | 'random') {\n    console.log(mode);\n    this.modalCtrl\n      .create({\n        component: CreateBookingComponent,\n        componentProps: { selectedPlace: this.place, selectedMode: mode },\n      })\n      .then((modal) => {\n        modal.present();\n        return modal.onDidDismiss();\n      })\n      .then(resultData => {\n        if (resultData.role === 'confirm') {\n          this.loadingController.create({\n            message: 'Booking place...'\n          }).then(loadingEl => {\n            loadingEl.present();\n            const data = resultData.data.bookingData;\n            this.bookingService.addBooking(\n              '0',\n              this.place.title,\n              this.place.imageURL,\n              data.first,\n              data.last,\n              data.guest,\n              data.start,\n              data.end\n            ).subscribe(() => {\n              loadingEl.dismiss();\n            });\n          });\n        }\n      });\n  }\n\n  ngOnDestroy(): void {\n    if (this.placeSub) {\n      this.placeSub.unsubscribe();\n    }\n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}