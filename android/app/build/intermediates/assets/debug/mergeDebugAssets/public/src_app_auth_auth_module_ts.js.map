{"version":3,"file":"src_app_auth_auth_module_ts.js","mappings":"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","sources":["./src/app/auth/auth-routing.module.ts","./src/app/auth/auth.module.ts","./src/app/auth/auth.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AuthPage } from './auth.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AuthPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AuthPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AuthPageRoutingModule } from './auth-routing.module';\n\nimport { AuthPage } from './auth.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    FormsModule,\n    IonicModule,\n    AuthPageRoutingModule\n  ],\n  declarations: [AuthPage]\n})\nexport class AuthPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AlertController, InfiniteScrollCustomEvent, LoadingController } from '@ionic/angular';\nimport { UserData } from '../interfaces/user-data';\nimport { AuthService } from './auth.service';\nimport { ModalController } from '@ionic/angular';\nimport { AccountModalComponent } from '../shared/account-modal/account-modal.component';\nimport { Clientes } from '../interfaces/clientes';\nimport { Restaurantes } from '../interfaces/restaurantes';\nimport { Tarjeta } from '../interfaces/tarjeta';\nimport { Direccion } from '../interfaces/direccion';\n\n@Component({\n  selector: 'app-auth',\n  templateUrl: './auth.page.html',\n  styleUrls: ['./auth.page.scss'],\n})\nexport class AuthPage implements OnInit {\n  form: FormGroup;\n  isLoading = false;\n  isLogged = false;\n  aprobar: any;\n  emailAUX: string = '';\n  users: any;\n  idDir: any;\n  idTarj: any;\n  idGlobal: any;\n  typeAUX: string = '';\n  user: UserData = {\n    id: 0,\n    type: '',\n    email: '',\n    psw: 'string',\n    userId: ''\n  };\n  userAux: UserData = {\n    id: 0,\n    type: '',\n    email: '',\n    psw: 'string',\n    userId: ''\n  };\n  existeE=false;\n  existeU=false;\n  msg='a';\n  isLogin: boolean;\n\n  auxCl: Clientes = {\n    id: '',\n    name: '',\n    app: '',\n    apm: '',\n    number: '',\n    user: '',\n    card: ''\n  };\n\n  auxRes: Restaurantes = {\n    id: '',\n    name: '',\n    number: '',\n    branch: '',\n    user: '',\n    dir: '',\n    card: ''\n  };\n\n  auxTarj: Tarjeta = {\n    id: '',\n    type: '',\n    clabe: ''\n  };\n\n  auxDir: Direccion = {\n    id: '',\n    calle: '',\n    district: '',\n    number: '',\n    reference: ''\n  };\n\n  constructor(private authService: AuthService, private router: Router, private loadingCtrl: LoadingController, private alertController: AlertController, private modalCtrl: ModalController) { }\n\n  async ngOnInit() {\n    this.form = new FormGroup({\n      userId: new FormControl(this.userAux.userId, {\n        updateOn: 'blur'\n      }),\n      type: new FormControl(this.userAux.type, {\n        updateOn: 'blur'\n      }),\n      email: new FormControl(null, {\n        updateOn: 'blur',\n        validators: [Validators.required]\n      }),\n      psw: new FormControl(null, {\n        updateOn: 'blur',\n        validators: [Validators.required]\n      })\n    });\n    this.userAux.email = this.form.value.email;\n    this.userAux.type = this.typeAUX;\n    this.userAux.psw = this.form.value.psw;\n    this.userAux.userId = this.form.value.userId;\n\n    await this.login();\n  }\n\n  onSwitch() {\n    this.isLogged = !this.isLogged;\n    console.log('SE ENCUENTRA EN Signup: ' + this.isLogged);\n  }\n\n  async presentAlert(){\n    const alert = await this.alertController.create({\n      header: 'Invalid credentials. Try again.',\n      buttons: [\n        {\n          text: 'OK',\n          role: 'confirm'\n        }\n      ],\n    });\n    await alert.present();\n  }\n\n  async login(){\n    if (!this.form.valid) {\n      return;\n    }\n    this.loadingCtrl.create({\n      message: 'Loading...'\n    }).then(async loadingEl => {\n      loadingEl.present();\n\n      this.userAux.email = this.form.value.email;\n      this.userAux.type = this.typeAUX;\n      this.userAux.psw = this.form.value.psw;\n      this.userAux.userId = this.form.value.userId;\n      console.log('INFO DEL FORM');\n      console.log(this.userAux.email, this.userAux.type, this.userAux.psw, this.userAux.userId);\n\n      //si esta para registrarse\n      if (this.isLogged) {\n        let data = await this.authService.postUserSync(this.userAux.userId, this.userAux.psw, this.userAux.email, this.userAux.type);\n        console.log('SE AUTORIZA EL REGISTRO: ' + data);\n\n        if(data == true){ //si las credenciales son correctas\n          //busca el id de usuario\n          let id = await this.authService.getIDSync(this.userAux.email);\n          //guarda el nuevo id en el servicio\n          this.authService.updateUserId(id);\n          //guarda el nuevo tipo en el servicio\n          this.authService.updateUserType(this.userAux.type);\n          this.idGlobal = id;\n          //el estado de login cambia a true en el servicio\n          this.authService.login();\n          //termina loading screen\n          loadingEl.dismiss();\n          this.form.reset();\n          //this.openModal();\n          this.darAltaUser();\n\n          this.router.navigate(['/home/tabs/discover']);\n          return;\n\n        }else{ //si las credenciales son incorrectas\n          loadingEl.dismiss();\n          this.form.reset();\n          this.presentAlert();\n        } \n\n      //si esta para login\n      } else {     \n        let data = await this.authService.getUserSync(this.userAux.email, this.userAux.psw);\n        console.log('SE AUTORIZA EL LOGIN: ' + data);\n\n        if(data == true){ //si las credenciales son correctas\n          //busca el id de usuario\n          let id = await this.authService.getIDSync(this.userAux.email);\n          //guarda el nuevo id en el servicio\n          this.authService.updateUserId(id);\n          //busca el tipo de usuario\n          let tipo = await this.authService.getTypeSync(id);\n          //guarda el nuevo tipo en el servicio\n          this.authService.updateUserType(tipo);\n          //el estado de login cambia a true en el servicio\n          this.authService.login();\n          //termina loading screen\n          loadingEl.dismiss();\n          this.form.reset();\n          this.router.navigate(['/home/tabs/discover']);\n          return;\n\n        }else{ //si las credenciales son incorrectas\n          loadingEl.dismiss();\n          this.form.reset();\n          this.presentAlert();\n        } \n      }\n    });\n  }\n\n  //Listener del evento del ion-radio-group para obtener el valor del ion-radio seleccionado\n  selectedValue($event){\n    console.log($event.target.value);\n    this.typeAUX = $event.target.value;\n  }\n\n  async openModal() {\n    const modal = await this.modalCtrl.create({\n      component: AccountModalComponent,\n    }).then((modal) => {\n      modal.present();\n      return modal.onDidDismiss();\n    })\n    .then(resultData => {\n      if (resultData.role === 'confirm') {\n        this.loadingCtrl.create({\n          message: 'Creating user...'\n        }).then(loadingEl => {\n          loadingEl.present();\n          \n          const data = resultData.data.userData;\n          console.log(data);\n          if(data.usuario == 'C'){\n            /*this.auxCl.name = data.nombre;\n            this.auxCl.app = data.app;\n            this.auxCl.apm = data.apm;\n            this.auxCl.number = data.telefono;\n            this.auxTarj.type = data.tipo;\n            this.auxTarj.clabe = data.clabe;*/\n            \n          }else if(data.usuario == 'R'){\n            /*this.auxRes.name = data.nombreR;\n            this.auxRes.number = data.telefonoR;\n            this.auxRes.branch = data.sucursalR;\n            this.auxDir.calle = data.calleR;\n            this.auxDir.district = data.coloniaR;\n            this.auxDir.number = data.numR;\n            this.auxDir.reference = data.referenciaR;\n            this.auxTarj.type = data.tipoR;\n            this.auxTarj.clabe = data.clabeR;*/\n            \n          }\n          \n        });\n      }\n    });\n  }\n\n  darAltaUser(){\n    if(this.userAux.type == 'C'){\n            this.auxCl.name = \"Paola\";\n            this.auxCl.app = \"Alba\";\n            this.auxCl.apm = \"Bugarin\";\n            this.auxCl.number = \"4494140663\";\n            this.auxTarj.type = 'D';\n            this.auxTarj.clabe = \"1234567890\";\n    }\n    if(this.userAux.type == 'R'){\n\n            this.auxRes.name = \"Michiladas\";\n            this.auxRes.number = \"4491234567\";\n            this.auxRes.branch = \"Norte\";\n            this.auxDir.calle = \"Av. Universidad\";\n            this.auxDir.district = \"Fatima\";\n            this.auxDir.number = \"102\";\n            this.auxDir.reference = \"Junto a la UAA\";\n            this.auxTarj.type = \"C\";\n            this.auxTarj.clabe = \"1109876543\";\n    }\n    //IF el tipo usuario es R da de alta direccion\n    if(this.userAux.type == 'R'){\n      //let dir = \n      this.authService.postDirSync(this.auxDir.calle, this.auxDir.district, Number(this.auxDir.number), this.auxDir.reference);\n      //console.log('SE REGISTRA LA DIR: ' + dir);\n      //get id de la dir\n      this.idDir = this.authService.getIDDIR(this.auxDir.calle, Number(this.auxDir.number));\n      this.authService.updateIDDireccion(this.idDir);\n    }\n    //AMBOS DAN ALTA TARJETA\n    //let tarjeta = \n    this.authService.postTarjetaSync(this.auxTarj.type, this.auxTarj.clabe);\n    console.log('SE REGISTRA LA TARJETA: ' );\n    //get id de la dir\n    this.idTarj = this.authService.getIDDIR(this.auxDir.calle, Number(this.auxDir.number));\n    this.authService.updateIDTarjeta(this.idTarj);\n\n    //IF R DA DE ALTA RESTAURANTE\n    if(this.userAux.type == 'R'){\n      //let res = \n      //this.authService.postRestaurantSync(this.auxRes.name, this.auxRes.number, this.auxRes.branch, this.idGlobal, this.idDir, this.idTarj);\n      this.authService.postRestaurant(this.auxRes.name, this.auxRes.number, this.auxRes.branch, this.idGlobal, this.idDir, this.idTarj);\n      \n      //console.log('SE REGISTRA EL RESTAURANTE: ' + res);\n    }else{\n      //ELSE ALTA CLIENTE\n      ///let cl = \n      //this.authService.postClienteSync(this.auxCl.name, this.auxCl.app, this.auxCl.apm, this.auxCl.number, this.idGlobal, this.idTarj);\n      this.authService.postCliente(this.auxCl.name, this.auxCl.app, this.auxCl.apm, this.auxCl.number, this.idGlobal, this.idTarj);\n      //console.log('SE REGISTRA EL CLIENTE: ' + cl);\n   }  \n  }\n\n  dismiss() {\n    // using the injected ModalController this page\n    // can \"dismiss\" itself and optionally pass back data\n    this.modalCtrl.dismiss({\n      'dismissed': true\n    });\n  }\n  \n}\n"],"names":["Component","FormControl","FormGroup","Validators","Router","AlertController","LoadingController","AuthService","ModalController","AccountModalComponent","AuthPage","constructor","authService","router","loadingCtrl","alertController","modalCtrl","id","type","email","psw","userId","name","app","apm","number","user","card","branch","dir","clabe","calle","district","reference","ngOnInit","form","userAux","updateOn","validators","required","value","typeAUX","login","onSwitch","isLogged","console","log","presentAlert","alert","create","header","buttons","text","role","present","valid","message","then","loadingEl","data","postUserSync","getIDSync","updateUserId","updateUserType","idGlobal","dismiss","reset","darAltaUser","navigate","getUserSync","tipo","getTypeSync","selectedValue","$event","target","openModal","modal","component","onDidDismiss","resultData","userData","usuario","auxCl","auxTarj","auxRes","auxDir","postDirSync","Number","idDir","getIDDIR","updateIDDireccion","postTarjetaSync","idTarj","updateIDTarjeta","postRestaurant","postCliente","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}